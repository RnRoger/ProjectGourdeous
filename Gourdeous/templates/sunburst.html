<!--
    Description:
        Html for the sunburst page of the website. This page is responsible for the visualisation of the gathered data.
        This is done via a sunburst diagram using the d3 library. The sunburst is made in a JavaScript file.
        Sunburst template acquired from: https://bl.ocks.org/kerryrodden/477c1bfb081b783f80ad

    Known bugs:

    Author: Rogier

    Last update: 02/06/2018
-->
<!-- Flask/Jinja template code-->
{% extends 'layout.html' %}
{% block title %}Sunburst graph{% endblock %}
{% block scripts %}
    <script>
function myFunction() {
    svg.selectAll('path-12').style('fill', 'red');
    document.getElementById("path-11").style("fill", "blue");
    svg.selectAll('path-12').remove();
    document.getElementById("path-11").remove();
    document.getElementById("sunburst").remove();
    d3.select("path-13").style("color","#ff00ff");
}
</script>
{% endblock %}
{% block content %}

    <div style="width: 200px" class="outer">
        <h1>
        Visualisation
    </h1>
<br>
        <p><b>Search word in sunburst:</b></p>
        <form>
            <input type="text" value="Enter text" id="highlightWord" style="width: 200px">
        </form>
    </div>
    <!-- Importing the d3 library from d3js.org and calling the JavaScript file to construct the sunburst -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
        <div id="sunburst">
        <div id="article-field">
            <h2>Articles:</h2><br>
            <div id="article-field-list">
                Select a compound to show articles.
            </div>
            </div>
            <div id="vis"></div>
            <script src="{{ url_for('static', filename='js/burst.js') }}"></script>
        </div>
    <div style="width: 600px;">
     <p>
The first layer of the sunburst show different organisms. The second layer contains health effects en the third layer contains compounds.

<br><br><b><u>How to use:</u></b><br>

         <b>Zoom</b><br>
Double click on the slices in the sunburst to zoom in.<br>
         Double click on the middle circle to zoom out one level.
<br><br>
         <b>Highlight</b><br>
         1. Highlight by typing the word youâ€™re looking for in the searchbox.<br>
         &emsp;&emsp;> Words stay highlighted even if you change the text, this allows <br>
         &emsp;&emsp;> for selecting multiple words at the same time.<br>
         &emsp;&emsp;> To deselect the words simply move the mouse over the sunburst. <br>
         2. Highlight by hoovering over the sunburst. The corresponding words wil get the yellow highlight color.<br><br>

<b>Get articles</b><br>
Click on a compound (outer circle) to load the related articles. The articles are shown on the right side of the page.<br>
        <br> <b>Why are there black bars where the names should be?</b><br>
These nodes have such a low score they are most likely irrelevant. This is why the name can't be read.<br>
         If you desire to see the names anyways you can do so by zooming in on the health benefit node they belong to.
</p>
</div>
{% endblock %}